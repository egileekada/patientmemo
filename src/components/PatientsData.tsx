import React from 'react'
import { useQuery } from 'react-query'

export default function PatientsData() {

    const { isLoading, data } = useQuery('patientdataAll', () =>
        fetch(`https://hospital-memo-api.herokuapp.com/patients`, {
            method: 'GET', // or 'PUT'
            headers: {
                'Content-Type': 'application/json', 
                Authorization : `Bearer ${localStorage.getItem('token')}`
            }
        }).then(res =>
            res.json()
        )
    )   

    return ( 
        <div className=' w-36 flex flex-col items-center  ' > 
            <div className=' w-24 h-24 flex justify-center items-center  rounded-lg bg-[#F542425E] ' >
                <svg width="35" height="34" viewBox="0 0 35 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24.5971 28.658L23.6346 20.9522C23.4982 19.8607 22.9678 18.8566 22.1431 18.1288C21.3183 17.401 20.2561 16.9996 19.1561 17H15.8416C14.7422 17.0003 13.6807 17.4021 12.8566 18.1298C12.0324 18.8576 11.5024 19.8612 11.3661 20.9522L10.4021 28.658C10.3492 29.0813 10.387 29.5111 10.5129 29.9187C10.6389 30.3264 10.8501 30.7026 11.1326 31.0223C11.415 31.342 11.7623 31.598 12.1513 31.7733C12.5403 31.9485 12.9621 32.039 13.3888 32.0387H21.6119C22.0385 32.0388 22.4601 31.9481 22.8489 31.7728C23.2378 31.5975 23.5849 31.3415 23.8672 31.0217C24.1495 30.702 24.3606 30.3259 24.4864 29.9184C24.6123 29.5108 24.65 29.0812 24.5971 28.658V28.658Z" stroke="#F54242" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M17.5018 10.9841C19.9935 10.9841 22.0134 8.96422 22.0134 6.47254C22.0134 3.98085 19.9935 1.96094 17.5018 1.96094C15.0101 1.96094 12.9902 3.98085 12.9902 6.47254C12.9902 8.96422 15.0101 10.9841 17.5018 10.9841Z" stroke="#F54242" stroke-width="2"/>
                    <path d="M5.47062 15.4959C7.13175 15.4959 8.47835 14.1493 8.47835 12.4882C8.47835 10.8271 7.13175 9.48047 5.47062 9.48047C3.8095 9.48047 2.46289 10.8271 2.46289 12.4882C2.46289 14.1493 3.8095 15.4959 5.47062 15.4959Z" stroke="#F54242" stroke-width="2"/>
                    <path d="M29.5312 15.4959C31.1923 15.4959 32.5389 14.1493 32.5389 12.4882C32.5389 10.8271 31.1923 9.48047 29.5312 9.48047C27.87 9.48047 26.5234 10.8271 26.5234 12.4882C26.5234 14.1493 27.87 15.4959 29.5312 15.4959Z" stroke="#F54242" stroke-width="2"/>
                    <path d="M5.46907 20.0078H5.00889C4.2969 20.0077 3.60797 20.2602 3.06466 20.7204C2.52134 21.1805 2.15888 21.8185 2.04176 22.5208L1.54097 25.5285C1.46911 25.9594 1.49198 26.4008 1.608 26.822C1.72402 27.2432 1.9304 27.6341 2.21279 27.9674C2.49518 28.3008 2.8468 28.5686 3.24319 28.7523C3.63958 28.9359 4.07122 29.0311 4.5081 29.031H9.98067M29.5309 20.0078H29.9911C30.7031 20.0077 31.392 20.2602 31.9353 20.7204C32.4787 21.1805 32.8411 21.8185 32.9582 22.5208L33.459 25.5285C33.5309 25.9594 33.508 26.4008 33.392 26.822C33.276 27.2432 33.0696 27.6341 32.7872 27.9674C32.5048 28.3008 32.1532 28.5686 31.7568 28.7523C31.3604 28.9359 30.9288 29.0311 30.4919 29.031H25.0193" stroke="#F54242" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <p className=' text-lg text-center font-Ubuntu-Medium mt-2 ' >Patients</p> 
            {!isLoading && ( 
                <p className=' text-center font-Ubuntu-Regular  ' >{data?.data?.length}</p> 
            )}
        </div>
    )
} 