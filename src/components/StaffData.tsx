import React from 'react'
import { useQuery } from 'react-query'

export default function StaffData() {
    
    const { isLoading, data } = useQuery('user', () =>
        fetch(`https://hospital-memo-api.herokuapp.com/admins`, {
            method: 'GET', // or 'PUT'
            headers: {
                'Content-Type': 'application/json', 
                Authorization : `Bearer ${localStorage.getItem('token')}`
            }
        }).then(res =>
            res.json()
        )
    )    

    return (
        <div className=' w-36 flex flex-col items-center  ' > 
            <div className=' w-24 h-24 flex justify-center items-center  rounded-lg bg-[#10920542] ' >
                <svg width="33" height="24" viewBox="0 0 33 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M30.5 24C30.5 24 32.5 24 32.5 22C32.5 20 30.5 14 22.5 14C14.5 14 12.5 20 12.5 22C12.5 24 14.5 24 14.5 24H30.5ZM14.544 22C14.5292 21.998 14.5145 21.9953 14.5 21.992C14.502 21.464 14.834 19.932 16.02 18.552C17.124 17.258 19.064 16 22.5 16C25.934 16 27.874 17.26 28.98 18.552C30.166 19.932 30.496 21.466 30.5 21.992L30.484 21.996C30.4747 21.9976 30.4654 21.9989 30.456 22H14.544ZM22.5 10C23.5609 10 24.5783 9.57857 25.3284 8.82843C26.0786 8.07828 26.5 7.06087 26.5 6C26.5 4.93913 26.0786 3.92172 25.3284 3.17157C24.5783 2.42143 23.5609 2 22.5 2C21.4391 2 20.4217 2.42143 19.6716 3.17157C18.9214 3.92172 18.5 4.93913 18.5 6C18.5 7.06087 18.9214 8.07828 19.6716 8.82843C20.4217 9.57857 21.4391 10 22.5 10ZM28.5 6C28.5 6.78793 28.3448 7.56815 28.0433 8.2961C27.7417 9.02405 27.2998 9.68549 26.7426 10.2426C26.1855 10.7998 25.5241 11.2417 24.7961 11.5433C24.0681 11.8448 23.2879 12 22.5 12C21.7121 12 20.9319 11.8448 20.2039 11.5433C19.4759 11.2417 18.8145 10.7998 18.2574 10.2426C17.7002 9.68549 17.2583 9.02405 16.9567 8.2961C16.6552 7.56815 16.5 6.78793 16.5 6C16.5 4.4087 17.1321 2.88258 18.2574 1.75736C19.3826 0.632141 20.9087 0 22.5 0C24.0913 0 25.6174 0.632141 26.7426 1.75736C27.8679 2.88258 28.5 4.4087 28.5 6ZM14.372 14.56C13.572 14.3081 12.7473 14.1425 11.912 14.066C11.4427 14.0214 10.9715 13.9993 10.5 14C2.5 14 0.5 20 0.5 22C0.5 23.334 1.166 24 2.5 24H10.932C10.6355 23.3756 10.4876 22.6911 10.5 22C10.5 19.98 11.254 17.916 12.68 16.192C13.166 15.604 13.732 15.054 14.372 14.56ZM10.34 16C9.15631 17.7785 8.51688 19.8636 8.5 22H2.5C2.5 21.48 2.828 19.94 4.02 18.552C5.11 17.28 7.004 16.04 10.34 16.002V16ZM3.5 7C3.5 5.4087 4.13214 3.88258 5.25736 2.75736C6.38258 1.63214 7.9087 1 9.5 1C11.0913 1 12.6174 1.63214 13.7426 2.75736C14.8679 3.88258 15.5 5.4087 15.5 7C15.5 8.5913 14.8679 10.1174 13.7426 11.2426C12.6174 12.3679 11.0913 13 9.5 13C7.9087 13 6.38258 12.3679 5.25736 11.2426C4.13214 10.1174 3.5 8.5913 3.5 7ZM9.5 3C8.43913 3 7.42172 3.42143 6.67157 4.17157C5.92143 4.92172 5.5 5.93913 5.5 7C5.5 8.06087 5.92143 9.07828 6.67157 9.82843C7.42172 10.5786 8.43913 11 9.5 11C10.5609 11 11.5783 10.5786 12.3284 9.82843C13.0786 9.07828 13.5 8.06087 13.5 7C13.5 5.93913 13.0786 4.92172 12.3284 4.17157C11.5783 3.42143 10.5609 3 9.5 3Z" fill="#109205"/>
                </svg>
            </div>
            <p className=' text-lg text-center font-Ubuntu-Medium mt-2 ' >Total  Staffs</p> 
            {!isLoading && ( 
                <p className=' text-center font-Ubuntu-Regular  ' >{data?.length}</p> 
            )}
        </div>
    )
} 